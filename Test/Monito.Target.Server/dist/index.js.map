{"version":3,"sources":["index.ts"],"names":[],"mappings":";AAiCA,aAjCA,IAAA,EAAA,EAAA,QAAA,YACA,EAAA,QAAA,MAgCA,SAAA,EAAA,GAAA,OAAA,GAAA,EAAA,WAAA,EAAA,CAAA,QAAA,GA9BA,MAAM,GAAY,EAAlB,EAAA,WAEA,WAAW,KACV,QAAQ,IAAI,8BACN,MAAA,GAAc,EAAkB,EAAA,mBAAA,oBAChC,EAAS,IACd,yBAA2B,KAAK,SAAS,SAAS,IAAI,UAAU,EAAG,IAAM,KAAK,SAAS,SAAS,IAAI,UAAU,EAAG,IAAM,KAAK,SAAS,SAAS,IAAI,UAAU,EAAG,IAC3J,IAAA,IAAI,EAAI,EAAG,EAAI,IAAQ,IAC3B,EAAY,MAAM,IAAW,KAAM,QACpC,EAAY,GAAG,SAAU,KACxB,QAAQ,IAAI,YAId,EAAU,IAAI,IAAK,CAAC,EAAK,KAMlB,MAAA,EAAc,CACnB,IACA,IAAK,IACL,IAAK,KACN,QAAQ,IAAI,EAAI,SAChB,EAAI,WAAW,EAAY,KAAK,MAAM,KAAK,SAAW,EAAY,YAGnE,MAAM,EAAO,KACb,QAAQ,IAAI,iCACZ,EAAU,OAFG","file":"index.js","sourceRoot":"..","sourcesContent":["import Express from 'express';\r\nimport { createWriteStream } from 'fs';\r\n\r\nconst WebServer = Express();\r\n\r\nsetTimeout(() => {\r\n\tconsole.log('Creating 100k test links..')\r\n\tconst writeStream = createWriteStream('./test-links.txt');\r\n\tconst genUrl = () => \r\n\t\t'http://localhost:8009/' + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15) + Math.random().toString(36).substring(2, 15);\r\n\tfor (let i = 0; i < 100000; i++)\r\n\t\twriteStream.write(genUrl() + '\\n', 'utf8');\r\n\twriteStream.on('finish', () => {\r\n\t\tconsole.log('Done');\r\n\t})\r\n});\r\n\r\nWebServer.all(\"*\", (req, res) => {\r\n\t// const statusCodes = [\r\n\t// \t200, 201, 202, 203, 204, 205, 206, 207, 208,\r\n\t// \t300, 301, 302, 303, 304, 305, 306, 308, 307,\r\n\t// \t400, 401, 402, 403, 404, 405, 406, 407, 408, 409, 410, 411, 412, 413, 414, 415, 416, 417, 418, 420, 422, 426, 429, 449, 451,\r\n\t// \t500, 501, 502, 503, 504, 505, 509];\r\n\tconst statusCodes = [\r\n\t\t200,\r\n\t\t403, 404,\r\n\t\t500, 502];\r\n\tconsole.log(req.headers)\r\n\tres.sendStatus(statusCodes[Math.floor(Math.random() * statusCodes.length)])\r\n})\r\n\r\nconst port = 8009;\r\nconsole.log(`Server listening on port ${port}`);\r\nWebServer.listen(port);"]}